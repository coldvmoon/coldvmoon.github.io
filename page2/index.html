<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Hyde &middot; A Jekyll theme, with instant search
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/algolia.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-09">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Hyde
        </a>
      </h1>
      <p class="lead">The popular <a href="http://hyde.getpoole.com/" target="_blank">Hyde theme</a> for <a href="http://jekyllrb.com" target="_blank">Jekyll</a>, now with instant-search capabilities. Made by <a href="https://twitter.com/mdo" target="_blank">@mdo</a> and <a href="https://www.algolia.com/" target="_blank">Algolia</a></p>
    </div>

    <input type="text" class="algolia__input js-algolia__input" autocomplete="off" name="query" placeholder="Search in this site..." />

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
          <a class="sidebar-nav-item" href="/about.html">About</a>
          
        
      
        
      
        
          
        
      
        
          
        
      

      <a class="sidebar-nav-item" href="https://github.com/coldvmoon/coldvmoon.github.io">GitHub project</a>
      <span class="sidebar-nav-item">Currently v2.1.0</span>
    </nav>

    <p>&copy; 2017. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="algolia__initial-content js-algolia__initial-content"><div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/tools.html">
        Tools
      </a>
    </h1>

    <span class="post-date">10 Mar 2017</span>

    <<<<<<< HEAD
<div id="outline-container-org6dde65b" class="outline-2">
<h2 id="org6dde65b"><span class="section-number-2">1</span> FRONTEND</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-org5eec477" class="outline-3">
<h3 id="org5eec477"><span class="section-number-3">1.1</span> <a href="https://maxwellito.github.io/vivus/">vivus.js</a>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="svg">svg</span>&#xa0;<span class="animate">animate</span></span></h3>
=======
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgd5c4b7e">1. FRONTEND</a>
<ul>
<li><a href="#org1b55e06">1.1. vivus.js&#xa0;&#xa0;&#xa0;<span class="tag"><span class="svg">svg</span>&#xa0;<span class="animate">animate</span></span></a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgd5c4b7e" class="outline-2">
<h2 id="orgd5c4b7e"><span class="section-number-2">1</span> FRONTEND</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-org1b55e06" class="outline-3">
<h3 id="org1b55e06"><span class="section-number-3">1.1</span> <a href="https://maxwellito.github.io/vivus/">vivus.js</a>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="svg">svg</span>&#xa0;<span class="animate">animate</span></span></h3>
>>>>>>> e7265e900e39f1347a711a72fd5733517424c7d9
<div class="outline-text-3" id="text-1-1">

<div class="figure">
<p><img src="../images/2017-03-10_17-11-08.gif" alt="2017-03-10_17-11-08.gif" /> 
</p>
</div>
</div>
</div>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/the-way-to-debug-hiversver2-in-cdh.html">
        The Way To Debug Hiversver2 In Cdh
      </a>
    </h1>

    <span class="post-date">09 Mar 2017</span>

    <<<<<<< HEAD
=======
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orge61fb63">1. Problem</a></li>
</ul>
</div>
</div>
>>>>>>> e7265e900e39f1347a711a72fd5733517424c7d9
---
layout: default
title: 在CDH(Cloudera Manager)中调试HiveServer2
---
<<<<<<< HEAD
<div id="outline-container-orga327452" class="outline-2">
<h2 id="orga327452"><span class="section-number-2">1</span> Problem</h2>
=======
<div id="outline-container-orge61fb63" class="outline-2">
<h2 id="orge61fb63"><span class="section-number-2">1</span> Problem</h2>
>>>>>>> e7265e900e39f1347a711a72fd5733517424c7d9
<div class="outline-text-2" id="text-1">
<p>
HiveServer2在CDH(Cloudera Manager)中使用时候，HiveServer2的启停都是通过管理界面，无法像自己搭建的hive环境一样简单使用  <b>beeline &#x2013;debug</b> 进行调试
</p>
</div>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/sumary-of-recent-work.html">
        Sumary Of Recent Work
      </a>
    </h1>

    <span class="post-date">08 Mar 2017</span>

    <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgd777141">1. Sentry Authentication</a>
<ul>
<li><a href="#org1438731">1.1. LDAP Installation</a></li>
<li><a href="#orgaa433b0">1.2. Hive Configuration</a></li>
</ul>
</li>
<li><a href="#org0c894b5">2. Hive Debug</a></li>
<li><a href="#org34a5844">3. Hive Hook</a>
<ul>
<li><a href="#org7f99626">3.1. Hooks lifecycle</a></li>
<li><a href="#orgd6a85fe">3.2. Usage in DDW</a>
<ul>
<li><a href="#org7b2f6bc">3.2.1. ExecuteWithHookContext</a></li>
<li><a href="#orgd43cf03">3.2.2. AbstractSemanticAnalyzerHook</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
---
layout: default
title: 最近工作总结
---
<div id="outline-container-orgd777141" class="outline-2">
<h2 id="orgd777141"><span class="section-number-2">1</span> Sentry Authentication</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-org1438731" class="outline-3">
<h3 id="org1438731"><span class="section-number-3">1.1</span> LDAP Installation</h3>
</div>
<div id="outline-container-orgaa433b0" class="outline-3">
<h3 id="orgaa433b0"><span class="section-number-3">1.2</span> Hive Configuration</h3>
</div>
</div>
<div id="outline-container-org0c894b5" class="outline-2">
<h2 id="org0c894b5"><span class="section-number-2">2</span> Hive Debug</h2>
</div>
<div id="outline-container-org34a5844" class="outline-2">
<h2 id="org34a5844"><span class="section-number-2">3</span> Hive Hook</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-org7f99626" class="outline-3">
<h3 id="org7f99626"><span class="section-number-3">3.1</span> Hooks lifecycle</h3>
<div class="outline-text-3" id="text-3-1">
<p>
There are several types of hooks depending on at which stage you want to inject your custom code:
</p>
<ul class="org-ul">
<li>Driver run hooks (Pre/Post)</li>
<li>Semantic analyizer hooks (Pre/Post)</li>
<li>Execution hooks (Pre/Failure/Post)</li>
<li>Client statistics publisher</li>
</ul>
<p>
If you run a script the processing flow looks like as follows:
</p>
<ol class="org-ol">
<li><b>Driver.run()</b> takes the command</li>
<li><b>HiveDriverRunHook.preDriverRun()</b> <code>HiveConf.ConfVars.HIVE_DRIVER_RUN_HOOKS</code></li>
<li><b>Driver.compile()</b> starts processing the command: creates the abstract syntax tree</li>
<li><b>AbstractSemanticAnalyzerHook.preAnalyze()</b> <code>AbstractSemanticAnalyzerHook.preAnalyze()</code></li>
<li>Semantic analysis</li>
<li><b>AbstractSemanticAnalyzerHook.postAnalyze()</b> <code>HiveConf.ConfVars.SEMANTIC_ANALYZER_HOOK</code></li>
<li>Create and validate the query plan (physical plan)</li>
<li><b>Driver.execute()</b> : ready to run the jobs</li>
<li><b>ExecuteWithHookContext.run()</b>  <code>HiveConf.ConfVars.PREEXECHOOKS</code></li>
<li><b>ExecDriver.execute()</b> runs all the jobs</li>
<li>For each job at every <code>HiveConf.ConfVars.HIVECOUNTERSPULLINTERVAL</code> interval: 
<b>ClientStatsPublisher.run()</b> is called to publish statistics <code>HiveConf.ConfVars.CLIENTSTATSPUBLISHERS</code> 
If a task fails: <b>ExecuteWithHookContext.run()</b> <code>HiveConf.ConfVars.ONFAILUREHOOKS</code></li>
<li>Finish all the tasks</li>
<li><b>ExecuteWithHookContext.run()</b> <code>HiveConf.ConfVars.POSTEXECHOOKS</code></li>
<li>Before returning the result <b>HiveDriverRunHook.postDriverRun()</b> <code>HiveConf.ConfVars.HIVE_DRIVER_RUN_HOOKS</code></li>
<li>Return the result.</li>
</ol>
</div>
</div>

<div id="outline-container-orgd6a85fe" class="outline-3">
<h3 id="orgd6a85fe"><span class="section-number-3">3.2</span> Usage in DDW</h3>
<div class="outline-text-3" id="text-3-2">
</div><div id="outline-container-org7b2f6bc" class="outline-4">
<h4 id="org7b2f6bc"><span class="section-number-4">3.2.1</span> ExecuteWithHookContext</h4>
<div class="outline-text-4" id="text-3-2-1">
<ol class="org-ol">
<li>设置HiveConf的mapreduce.job.queuename值，方便CDH中的资源池管理。</li>
<li>HiveHistory文件追踪，监控Hive SQL的进度</li>
</ol>
<div class="org-src-container">
<pre class="src src-java"> <span style="color: #2aa1ae;">/**</span>
<span style="color: #2aa1ae;"> * 1 ) &#29992;&#20110;&#23558;&#29992;&#25143;&#25552;&#20132;&#21040;&#23545;&#24212;&#30340;pool&#20013;,&#36825;&#26679;&#20415;&#20110;&#32479;&#19968;&#23545;&#26576;&#20010;&#29992;&#25143;&#25191;&#34892;&#36164;&#28304;(mem/cpu)&#20351;&#29992;&#25511;&#21046;,&#38450;&#27490;&#20854;&#21344;&#29992;&#36807;&#22810;&#36164;&#28304;&#21345;&#20303;&#20854;&#20182;job</span>
<span style="color: #2aa1ae;"> * 2 ) &#21019;&#24314;&#20219;&#21153;</span>
<span style="color: #2aa1ae;"> * Created by xkwu on 2017/1/17.</span>
<span style="color: #2aa1ae;"> */</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">CustomExecuteWithHookContext</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">ExecuteWithHookContext</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #4f97d7; font-weight: bold;">final</span> <span style="color: #ce537a; font-weight: bold;">Log</span> <span style="color: #7590db;">LOG</span> = LogFactory.getLog<span style="color: #bc6ec5;">(</span>CustomExecuteWithHookContext.<span style="color: #4f97d7; font-weight: bold;">class</span><span style="color: #bc6ec5;">)</span>;
    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">TailerTracker</span> <span style="color: #7590db;">tailerTracker</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">TailerTracker</span><span style="color: #bc6ec5;">()</span>;

    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #bc6ec5;">{</span>
        tailerTracker.start<span style="color: #2d9574;">()</span>;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #a45bad;">@Override</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">run</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">HookContext</span> <span style="color: #7590db;">hookContext</span><span style="color: #bc6ec5;">)</span> <span style="color: #4f97d7; font-weight: bold;">throws</span> <span style="color: #ce537a; font-weight: bold;">Exception</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">try</span> <span style="color: #2d9574;">{</span>
        <span style="color: #ce537a; font-weight: bold;">UserGroupInformation</span> <span style="color: #7590db;">ugi</span> = hookContext.getUgi<span style="color: #67b11d;">()</span>;
        hookContext.getConf<span style="color: #67b11d;">()</span>.set<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"mapreduce.job.queuename"</span>, ugi.getUserName<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;<span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">1)&#20462;&#25913;queuename</span>

            <span style="color: #ce537a; font-weight: bold;">QueryPlan</span> <span style="color: #7590db;">queryPlan</span> = hookContext.getQueryPlan<span style="color: #67b11d;">()</span>;
            <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">jobs</span> = Utilities.getMRTasks<span style="color: #67b11d;">(</span>queryPlan.getRootTasks<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>.size<span style="color: #67b11d;">()</span>;
            <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #67b11d;">(</span>jobs &gt; <span style="color: #a45bad;">0</span><span style="color: #67b11d;">)</span> <span style="color: #67b11d;">{</span>
                <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">histFileName</span> = SessionState.get<span style="color: #b1951d;">()</span>.getHiveHistory<span style="color: #b1951d;">()</span>.getHistFileName<span style="color: #b1951d;">()</span>;
                tailerTracker.track<span style="color: #b1951d;">(</span>hookContext.getUserName<span style="color: #4f97d7;">()</span>, histFileName<span style="color: #b1951d;">)</span>;<span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">2)&#21019;&#24314;&#30417;&#25511;HiveHistory&#30340;listener</span>
            <span style="color: #67b11d;">}</span>
        <span style="color: #2d9574;">}</span> <span style="color: #4f97d7; font-weight: bold;">catch</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">Exception</span> <span style="color: #7590db;">e</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
            LOG.error<span style="color: #67b11d;">(</span>e.getMessage<span style="color: #b1951d;">()</span>, e<span style="color: #67b11d;">)</span>;
        <span style="color: #2d9574;">}</span>
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd43cf03" class="outline-4">
<h4 id="orgd43cf03"><span class="section-number-4">3.2.2</span> AbstractSemanticAnalyzerHook</h4>
<div class="outline-text-4" id="text-3-2-2">
<ol class="org-ol">
<li>禁止drop databases,create databases等操作</li>
<li>将创建未压缩table的语句以邮件的形式发送给管理员</li>
</ol>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #2aa1ae;">/**</span>
<span style="color: #2aa1ae;"> *</span>
<span style="color: #2aa1ae;"> * &#20027;&#35201;&#29992;&#20110;&#36807;&#28388;&#20986;&#21019;&#24314;&#34920;,&#21364;&#19981;&#25351;&#23450;&#37319;&#29992;&#21387;&#32553;&#26684;&#24335;.</span>
<span style="color: #2aa1ae;"> * &#20415;&#20110;&#25105;&#20204;&#21450;&#26102;&#36319;&#36827;&#25351;&#23548;&#19994;&#21153;&#26041;&#20462;&#27491;</span>
<span style="color: #2aa1ae;"> *</span>
<span style="color: #2aa1ae;"> * Created by xkwu on 2017/1/18.</span>
<span style="color: #2aa1ae;"> */</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">CustomSemanticAnalyzerHook</span> <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">AbstractSemanticAnalyzerHook</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #4f97d7; font-weight: bold;">final</span> <span style="color: #ce537a; font-weight: bold;">Log</span> <span style="color: #7590db;">LOG</span> = LogFactory.getLog<span style="color: #bc6ec5;">(</span>CustomSemanticAnalyzerHook.<span style="color: #4f97d7; font-weight: bold;">class</span><span style="color: #bc6ec5;">)</span>;
    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">Pattern</span> <span style="color: #7590db;">pattern</span> = Pattern.compile<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"(STORED\\s+?AS\\s+?)(parquet|rcfile|orcfile|orc)"</span>, <span style="color: #a45bad;">Pattern</span>.CASE_INSENSITIVE<span style="color: #bc6ec5;">)</span>;   <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">&#27491;&#21017;&#21305;&#37197;&#37319;&#29992;&#20102;&#21387;&#32553;&#23384;&#20648;&#26684;&#24335;&#30340;&#34920;scheme</span>

    <span style="color: #a45bad;">@Override</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">ASTNode</span> <span style="color: #bc6ec5; font-weight: bold;">preAnalyze</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">HiveSemanticAnalyzerHookContext</span> <span style="color: #7590db;">context</span>,
                              <span style="color: #ce537a; font-weight: bold;">ASTNode</span> <span style="color: #7590db;">ast</span><span style="color: #bc6ec5;">)</span> <span style="color: #4f97d7; font-weight: bold;">throws</span> <span style="color: #ce537a; font-weight: bold;">SemanticException</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">switch</span> <span style="color: #2d9574;">(</span>ast.getToken<span style="color: #67b11d;">()</span>.getType<span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
            <span style="color: #4f97d7; font-weight: bold;">case</span> <span style="color: #a45bad;">HiveParser</span>.TOK_CREATETABLE:
                <span style="color: #ce537a; font-weight: bold;">Matcher</span> <span style="color: #7590db;">m</span> = pattern.matcher<span style="color: #67b11d;">(</span>context.getCommand<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
                <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #67b11d;">(</span><span style="color: #a45bad;">!</span>m.find<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span> <span style="color: #67b11d;">{</span>
                    LOG.info<span style="color: #b1951d;">(</span>context.getUserName<span style="color: #4f97d7;">()</span> + <span style="color: #2d9574;">"&#25191;&#34892;&#20102;&#25805;&#20316;: "</span> + context.getCommand<span style="color: #4f97d7;">()</span><span style="color: #b1951d;">)</span>;
                    <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">EmailThread</span><span style="color: #b1951d;">(</span><span style="color: #2d9574;">"/hive/notifyAboutCreateTable"</span>, <span style="color: #2d9574;">"cmd="</span> + context.getCommand<span style="color: #4f97d7;">()</span> + <span style="color: #2d9574;">"&amp;groupCode="</span> + context.getUserName<span style="color: #4f97d7;">()</span><span style="color: #b1951d;">)</span>.start<span style="color: #b1951d;">()</span>;
                <span style="color: #67b11d;">}</span>
                <span style="color: #4f97d7; font-weight: bold;">break</span>;
            <span style="color: #4f97d7; font-weight: bold;">case</span> <span style="color: #a45bad;">HiveParser</span>.TOK_CREATEDATABASE:
            <span style="color: #4f97d7; font-weight: bold;">case</span> <span style="color: #a45bad;">HiveParser</span>.TOK_DROPDATABASE:
                <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">adminAccount</span> = ConfigUtils.prop.getProperty<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"ADMIN_ACCOUNT"</span><span style="color: #67b11d;">)</span>;
                <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #67b11d;">(</span>StringUtils.isEmpty<span style="color: #b1951d;">(</span>context.getUserName<span style="color: #4f97d7;">()</span><span style="color: #b1951d;">)</span> || <span style="color: #a45bad;">!</span>context.getUserName<span style="color: #b1951d;">()</span>.equals<span style="color: #b1951d;">(</span>adminAccount<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span> <span style="color: #67b11d;">{</span>
                    <span style="color: #4f97d7; font-weight: bold;">throw</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">SemanticException</span><span style="color: #b1951d;">(</span><span style="color: #2d9574;">"Only the admin accounts of ddw bigdata platform can create/drop database."</span><span style="color: #b1951d;">)</span>;
                <span style="color: #67b11d;">}</span>
                <span style="color: #4f97d7; font-weight: bold;">break</span>; 
            <span style="color: #4f97d7; font-weight: bold;">default</span>:
                <span style="color: #4f97d7; font-weight: bold;">break</span>;
        <span style="color: #2d9574;">}</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> ast;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
</pre>
</div>
</div>
</div>
</div>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/integrate-hive-with-sentry-and-openldap.html">
        Hive整合Sentry和OpenLDAP
      </a>
    </h1>

    <span class="post-date">08 Mar 2017</span>

    <div id="outline-container-orgc30f243" class="outline-2">
<h2 id="orgc30f243"><span class="section-number-2">1</span> 安装OpenLDAP</h2>
<div class="outline-text-2" id="text-1">
<ol class="org-ol">
<li>使用yum安装OpenLdap</li>
</ol>
<div class="org-src-container">
<pre class="src src-sh">sudo yum install -y openldap openldap-servers openldap-clients
</pre>
</div>
<ol class="org-ol">
<li>复制文件</li>
</ol>
<div class="org-src-container">
<pre class="src src-sh">sudo cp /usr/share/openldap-servers/slapd.conf.obsolete /etc/openldap/slapd.conf
sudo cp /usr/share/openldap-servers/DB_CONFIG.example /var/lib/ldap/DB_CONFIG
sudo mv /etc/openldap/slapd.d<span style="color: #4f97d7;">{</span>,.bak<span style="color: #4f97d7;">}</span>
</pre>
</div>
<ol class="org-ol">
<li>修改配置文件</li>
</ol>
<div class="org-src-container">
<pre class="src src-sh">sudo vim /etc/openldap/slapd.conf
</pre>
</div>

<ul class="org-ul">
<li>修改前</li>
</ul>


<div class="figure">
<p><img src="../images/2017-03-09_11-16-32.jpg" alt="2017-03-09_11-16-32.jpg" />
</p>
</div>

<ul class="org-ul">
<li>修改后</li>
</ul>




<div class="figure">
<p><img src="../images/2017-03-09_11-17-32.jpg" alt="2017-03-09_11-17-32.jpg" />
</p>
</div>

<p>
<b>suffix:</b> 是根域
</p>

<p>
<b>rootdn:</b> 是管理员所在位置
</p>

<p>
<b>rootpw:</b> 是管理员密码，可以是明文（本示例为：secret），也可以是加密的（如 rootpw {SSHA}NXV9Fl28qCHMmA6P sjhVX0uejTKE6OYr）
</p>

<ol class="org-ol">
<li>分配目录权限</li>
</ol>
<div class="org-src-container">
<pre class="src src-sh">sudo chown ldap.ldap /etc/openldap/*
sudo chown ldap.ldap /var/lib/ldap/*
</pre>
</div>

<ol class="org-ol">
<li>启动sladp,启动后的389端口就是默认端口。</li>
</ol>
<div class="org-src-container">
<pre class="src src-sh">sudo service slapd start
</pre>
</div>


<div class="figure">
<p><img src="../images/2017-03-09_11-26-32.jpg" alt="2017-03-09_11-26-32.jpg" />
</p>
</div>

<ol class="org-ol">
<li>新建文件example.ldif</li>
</ol>
<pre class="example">
dn:dc=example,dc=com
objectclass:dcObject
objectclass:organization
o:Example, Inc.
dc:example
dn:cn=Manager,dc=example,dc=com
objectclass:organizationalRole
cn:Manager
</pre>
<ol class="org-ol">
<li>导入example.ldif</li>
</ol>
<div class="org-src-container">
<pre class="src src-sh">ldapadd -x -W -D <span style="color: #2d9574;">"cn=Manager,dc=example,dc=com"</span> -f example.ldif
</pre>
</div>
<ol class="org-ol">
<li>输入刚设置的 <b>rootpw</b> 的密码</li>
</ol>

<div class="figure">
<p><img src="../images/2017-03-09_11-36-32.jpg" alt="2017-03-09_11-36-32.jpg" />
</p>
</div>

<ol class="org-ol">
<li>查询已经导入的数据</li>
</ol>
<div class="org-src-container">
<pre class="src src-sh">ldapsearch -x -b <span style="color: #2d9574;">"dc=example,dc=com"</span>
</pre>
</div>


<div class="figure">
<p><img src="../images/2017-03-09_11-56-32.jpg" alt="2017-03-09_11-56-32.jpg" />
</p>
</div>
</div>
</div>

<div id="outline-container-org4392cda" class="outline-2">
<h2 id="org4392cda"><span class="section-number-2">2</span> Sentry整合OpenLDAP</h2>
<div class="outline-text-2" id="text-2">
<p>
照着cloudera官方文档来<a href="http://www.cloudera.com/documentation/enterprise/5-2-x/topics/cdh_sg_hiveserver2_security.html"><a href="http://www.cloudera.com/documentation/enterprise/5-2-x/topics/cdh_sg_hiveserver2_security.html">http://www.cloudera.com/documentation/enterprise/5-2-x/topics/cdh_sg_hiveserver2_security.html</a></a>
</p>


<div class="figure">
<p><img src="../images/2017-03-09_11-66-32.jpg" alt="2017-03-09_11-66-32.jpg" />
</p>
</div>

<ol class="org-ol">
<li>配置HiveServer2的参数</li>
</ol>

<div class="figure">
<p><img src="../images/2017-03-09_13-66-32.jpg" alt="2017-03-09_13-66-32.jpg" />
</p>
</div>

<ol class="org-ol">
<li>重新启动hive，使用beeline登录，使用一个错误的账号和密码（因为还木有正确的账号）</li>
</ol>

<div class="figure">
<p><img src="../images/2017-03-09_14-66-32.jpg" alt="2017-03-09_14-66-32.jpg" />
</p>
</div>

<ol class="org-ol">
<li>可以看见登录被拒绝了，查看日志</li>
</ol>
<div class="org-src-container">
<pre class="src src-sh">tail -f /var/log/hive/hadoop-cmf-hive-HIVESERVER2-quickstart.cloudera.log.out
</pre>
</div>
<ol class="org-ol">
<li>问题来了，什么才是正确的用户名和密码呢？</li>
</ol>
<p>
官方cloudera的文档是这样写的
<img src="../images/2017-03-09_15-66-32.jpg" alt="2017-03-09_15-66-32.jpg" />
</p>

<p>
<b>LDAP<sub>Userid</sub></b> 和 <b>LDAP<sub>Password</sub></b> 这个是个什么鬼？对应OpenLdap里面的什么？
其实这个可以在Hive的源码中看到一个hook，是关于和ldap集成的。
</p>

<ol class="org-ol">
<li>直接来结果吧！按照前面的方法再导入一条数据</li>
</ol>
<pre class="example">
dn: uid=testuid,cn=Manager,dc=example,dc=com
objectClass: organizationalRole
objectClass: posixAccount
uid: testuid
cn: testcn
gidNumber: 11
uidNumber: 123
homeDirectory: wer
</pre>

<p>
其中的 <b>uid</b> 就是用户名
</p>

<ol class="org-ol">
<li>为刚创建的数据添加密码</li>
</ol>
<div class="org-src-container">
<pre class="src src-sh">ldappasswd -x -D <span style="color: #2d9574;">"cn=Manager,dc=example,dc=com"</span> -w secret <span style="color: #2d9574;">"uid=testuid,cn=Manager,dc=example,dc=com"</span> -S
</pre>
</div>

<ol class="org-ol">
<li>已经可以登录了</li>
</ol>

<div class="figure">
<p><img src="../images/2017-03-09_15-66-33.jpg" alt="2017-03-09_15-66-33.jpg" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgc113fde" class="outline-2">
<h2 id="orgc113fde"><span class="section-number-2">3</span> 参考链接</h2>
<div class="outline-text-2" id="text-3">
<p>
<a href="https://my.oschina.net/5lei/blog/193484">centos6.4安装配置LDAP服务</a>
<a href="https://www.cloudera.com/documentation/enterprise/5-2-x/topics/cdh_sg_hiveserver2_security.html">Cloudera Documention</a>
</p>


<p class="verse">
Great clouds overhead
Tiny black birds rise and fall
Snow covers Emacs


&#xa0;&#xa0;&#xa0;&#xa0;&#x2013; AlexSchroeder
</p>

<p>
quotations in Org mode documents like this:
</p>
<blockquote>
<p>
Everything should be made as simple as possible,
but not any simpler &#x2013; Albert Einstein
</p>
</blockquote>
<hr />
<div class="org-center">
<p>
Everything should be made as simple as possible, <br />
but not any simpler
</p>
</div>

<!-- This HTML table template is generated by emacs 25.1.1 -->
<table border="1">
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Command&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;Key&nbsp;Binding&nbsp;&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;forward-char&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      Move&nbsp;point&nbsp;right&nbsp;N&nbsp;characters&nbsp;&nbsp;&nbsp;<br />
      (left&nbsp;if&nbsp;N&nbsp;is&nbsp;negative).&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C-f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;backward-char&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      Move&nbsp;point&nbsp;left&nbsp;N&nbsp;characters&nbsp;&nbsp;&nbsp;&nbsp;<br />
      (right&nbsp;if&nbsp;N&nbsp;is&nbsp;negative).&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C-b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
  </tr>
</table>
</div>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/website.html">
        常用网站和工具
      </a>
    </h1>

    <span class="post-date">15 Jul 2015</span>

    <p>
It was early January when six of us travelled up to &#x2026;.
</p>
<div id="outline-container-org98ab877" class="outline-2">
<h2 id="org98ab877"><span class="section-number-2">1</span> 常访问网站</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-org520cd4e" class="outline-3">
<h3 id="org520cd4e"><span class="section-number-3">1.1</span> 资讯&#xa0;&#xa0;&#xa0;<span class="tag"><span class="news">news</span></span></h3>
<div class="outline-text-3" id="text-1-1">
</div><div id="outline-container-org1ba58ab" class="outline-4">
<h4 id="org1ba58ab"><span class="section-number-4">1.1.1</span> 经济&#xa0;&#xa0;&#xa0;<span class="tag"><span class="economic">economic</span></span></h4>
<div class="outline-text-4" id="text-1-1-1">
</div><div id="outline-container-orgbe171c4" class="outline-5">
<h5 id="orgbe171c4"><span class="section-number-5">1.1.1.1</span> <a href="http://www.ftchinese.com/">FT中文网</a></h5>
</div>
</div>
<div id="outline-container-orgf940f68" class="outline-4">
<h4 id="orgf940f68"><span class="section-number-4">1.1.2</span> knowledge</h4>
<div class="outline-text-4" id="text-1-1-2">
</div><div id="outline-container-org696d399" class="outline-5">
<h5 id="org696d399"><span class="section-number-5">1.1.2.1</span> <a href="https://news.ycombinator.com/">Hacker News</a></h5>
</div>
<div id="outline-container-orga7be423" class="outline-5">
<h5 id="orga7be423"><span class="section-number-5">1.1.2.2</span> <a href="https://www.reddit.com">Reddit</a></h5>
</div>
</div>
<div id="outline-container-orgd4b1e13" class="outline-4">
<h4 id="orgd4b1e13"><span class="section-number-4">1.1.3</span> thechnic</h4>
<div class="outline-text-4" id="text-1-1-3">
</div><div id="outline-container-org6a52d2e" class="outline-5">
<h5 id="org6a52d2e"><span class="section-number-5">1.1.3.1</span> <a href="https://www.webcodegeeks.com/">Web Code Geeks</a></h5>
</div>
<div id="outline-container-orgca28261" class="outline-5">
<h5 id="orgca28261"><span class="section-number-5">1.1.3.2</span> <a href="https://www.javacodegeeks.com/">Java Code geeks</a></h5>
</div>
</div>
<div id="outline-container-orgfe1b78b" class="outline-4">
<h4 id="orgfe1b78b"><span class="section-number-4">1.1.4</span> app&#xa0;&#xa0;&#xa0;<span class="tag"><span class="app">app</span></span></h4>
<div class="outline-text-4" id="text-1-1-4">
</div><div id="outline-container-orgb554502" class="outline-5">
<h5 id="orgb554502"><span class="section-number-5">1.1.4.1</span> <a href="https://sspai.com/">少数派</a></h5>
</div>
</div>
</div>
<div id="outline-container-orgcee5ecf" class="outline-3">
<h3 id="orgcee5ecf"><span class="section-number-3">1.2</span> 技术类&#xa0;&#xa0;&#xa0;<span class="tag"><span class="technic">technic</span></span></h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-org4c4bf24" class="outline-4">
<h4 id="org4c4bf24"><span class="section-number-4">1.2.1</span> emacs&#xa0;&#xa0;&#xa0;<span class="tag"><span class="emacs">emacs</span></span></h4>
<div class="outline-text-4" id="text-1-2-1">
</div><div id="outline-container-org681fcd6" class="outline-5">
<h5 id="org681fcd6"><span class="section-number-5">1.2.1.1</span> <a href="http://doc.norang.ca/org-mode.html">Organize Your Life In Plain Text!</a></h5>
</div>
<div id="outline-container-org8d51b70" class="outline-5">
<h5 id="org8d51b70"><span class="section-number-5">1.2.1.2</span> <a href="https://sourceforge.net/projects/emacsbinw64/?source=directory">64-Bit GNU Emacs for MS Windows with optimization</a></h5>
</div>
</div>
<div id="outline-container-org1d2b700" class="outline-4">
<h4 id="org1d2b700"><span class="section-number-4">1.2.2</span> crack&#xa0;&#xa0;&#xa0;<span class="tag"><span class="crack">crack</span></span></h4>
<div class="outline-text-4" id="text-1-2-2">
</div><div id="outline-container-orgffb61d3" class="outline-5">
<h5 id="orgffb61d3"><span class="section-number-5">1.2.2.1</span> <a href="http://www.52pojie.cn/">吾爱破解</a></h5>
</div>
</div>
</div>
<div id="outline-container-org211f610" class="outline-3">
<h3 id="org211f610"><span class="section-number-3">1.3</span> 见识类</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-org413db26" class="outline-4">
<h4 id="org413db26"><span class="section-number-4">1.3.1</span> 记录片</h4>
<div class="outline-text-4" id="text-1-3-1">
</div><div id="outline-container-org7873850" class="outline-5">
<h5 id="org7873850"><span class="section-number-5">1.3.1.1</span> <a href="http://www.onehourlife.com/">每天一小时记录片</a></h5>
<div class="outline-text-5" id="text-1-3-1-1">
<pre class="example">
获取vip的下载地址http://www.onehourlife.com/wp-content/plugins/erphpdown/download.php?postid=12466
</pre>
</div>
</div>
</div>
<div id="outline-container-org8f2118d" class="outline-4">
<h4 id="org8f2118d"><span class="section-number-4">1.3.2</span> 书画</h4>
<div class="outline-text-4" id="text-1-3-2">
</div><div id="outline-container-org1016c1d" class="outline-5">
<h5 id="org1016c1d"><span class="section-number-5">1.3.2.1</span> <a href="https://www.google.com/culturalinstitute/beta/u/0/">Google Arts&amp;Culture(欧美画作)</a></h5>
</div>
<div id="outline-container-org4706bd8" class="outline-5">
<h5 id="org4706bd8"><span class="section-number-5">1.3.2.2</span> <a href="https://shuge.org/">书格(中国古字画)</a></h5>
</div>
</div>
</div>
<div id="outline-container-org032d64b" class="outline-3">
<h3 id="org032d64b"><span class="section-number-3">1.4</span> 英语类&#xa0;&#xa0;&#xa0;<span class="tag"><span class="english">english</span></span></h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-org244d964" class="outline-4">
<h4 id="org244d964"><span class="section-number-4">1.4.1</span> etymology&#xa0;&#xa0;&#xa0;<span class="tag"><span class="etymology">etymology</span></span></h4>
<div class="outline-text-4" id="text-1-4-1">
</div><div id="outline-container-orgfddd276" class="outline-5">
<h5 id="orgfddd276"><span class="section-number-5">1.4.1.1</span> <a href="http://www.etymonline.com/">Online Etymology Dictionary</a></h5>
</div>
<div id="outline-container-org9fcbfb7" class="outline-5">
<h5 id="org9fcbfb7"><span class="section-number-5">1.4.1.2</span> <a href="http://www.youdict.com">优词词典</a></h5>
</div>
</div>
</div>
</div>
<div id="outline-container-org75f1b20" class="outline-2">
<h2 id="org75f1b20"><span class="section-number-2">2</span> 有用工具</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-org0f14a16" class="outline-3">
<h3 id="org0f14a16"><span class="section-number-3">2.1</span> chrome&#xa0;&#xa0;&#xa0;<span class="tag"><span class="chrome">chrome</span></span></h3>
<div class="outline-text-3" id="text-2-1">
</div><div id="outline-container-org5504529" class="outline-4">
<h4 id="org5504529"><span class="section-number-4">2.1.1</span> Tampermonkey</h4>
</div>
</div>
<div id="outline-container-orge4fda48" class="outline-3">
<h3 id="orge4fda48"><span class="section-number-3">2.2</span> download&#xa0;&#xa0;&#xa0;<span class="tag"><span class="download">download</span></span></h3>
<div class="outline-text-3" id="text-2-2">
</div><div id="outline-container-orgb727e12" class="outline-4">
<h4 id="orgb727e12"><span class="section-number-4">2.2.1</span> IDM</h4>
</div>
</div>
<div id="outline-container-org1732e26" class="outline-3">
<h3 id="org1732e26"><span class="section-number-3">2.3</span> math&#xa0;&#xa0;&#xa0;<span class="tag"><span class="math">math</span></span></h3>
<div class="outline-text-3" id="text-2-3">
</div><div id="outline-container-orgf530234" class="outline-4">
<h4 id="orgf530234"><span class="section-number-4">2.3.1</span> <a href="http://www.wolframalpha.com/">Wolfram Alpha</a></h4>
</div>
</div>
<div id="outline-container-org3ea891c" class="outline-3">
<h3 id="org3ea891c"><span class="section-number-3">2.4</span> crack</h3>
<div class="outline-text-3" id="text-2-4">
</div><div id="outline-container-orgd73e6d2" class="outline-4">
<h4 id="orgd73e6d2"><span class="section-number-4">2.4.1</span> Cheat Engine</h4>
</div>
</div>
</div>

  </div>
  
</div>

<div class="pagination">
  
    <span class="pagination-item older">Older</span>
  
  
    
      <a class="pagination-item newer" href="">Newer</a>
    
  
</div>
</div>

      <div class="algolia__search-content js-algolia__search-content">
        <h1 class="page-title">Search</h1>
        <div class="posts algolia__results"></div>
      </div>
    </div>

  <script>
  window.ALGOLIA_CONFIG = {
    'applicationId': 'NJQT0OSANV',
    'indexName': 'jekyll',
    'apiKey': '6477c5e01e6450c825c154610c3c0ba6',
    'baseurl': ''
  }
</script>
<script id="algolia__template" type="text/template">

  <div class="algolia__result">
    <a class="algolia__result-link" href="{{ full_url }}#algolia:{{ css_selector }}">{{{ _highlightResult.title.value }}}</a>
    {{#posted_at}}
    <div class="algolia__result-date">{{ posted_at_readable }}</div>
    {{/posted_at}}
    <div class="algolia__result-text">{{{ _highlightResult.text.value }}}</div>
  </div>

</script>
<script id="algolia__template--no-results" type="text/template">
  No results found.
</script>
<script src="//cdn.jsdelivr.net/jquery/2.1.4/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/algoliasearch/3.6.0/algoliasearch.min.js"></script>
<script src="//cdn.jsdelivr.net/algoliasearch.helper/2.1.0/algoliasearch.helper.min.js"></script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="//cdn.jsdelivr.net/momentjs/2.10.3/moment.min.js"></script>
<script src="/public/js/algolia.js"></script>

  </body>
</html>
